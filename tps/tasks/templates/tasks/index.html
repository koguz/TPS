{% extends "tasks/base.html" %} {% load static %} {% block left_content %}




<div class="custom-select" style="width: 200px;">
    <select>
        {% for t in teams %}            
        <option style=""> 
            <a class="dropdown-item" style="" href="{{t.pk}}"> {{t.course.masterCourse.code }} {{t}}</a> 
        </option> 
        {% endfor %}
    </select>
</div>
<p><i class="bi bi-github"></i> <a href="{{ team.github }}">Visit Team Git Repository</a></p>
<p><i class="bi bi-pencil-square"></i> <a href="{% url "edit_team" %}">Edit Team Information</a></p>
<hr>
<h5>Team Points</h5>
<p>
{% for key, value in team.get_milestone_list.items %}
{{ key }}: {{ value }} Points<br />
{% endfor %}
</p>

<h5>Developer Points</h5>
<p>
<ul>
{% for dev in devs %}
    <li>{{ dev }}
        <ul>
        <li>Overall Project: {{ dev.get_project_grade }} Points</li>
        {% for k, v in dev.get_milestone_list.items %}
            <li>{{ k }}: {{ v }} Points</li>
        {% endfor %}
        </ul>
    </li>
{% endfor %}
</ul>
</p>
{% endblock %}

{% block main_content %}
<div class="row">
    <div class="col-sm">
        <h4>Tasks</h4>
    </div>
    <div class="col-sm" style="text-align: right;">
        <a href="{% url 'create_task' %}"><button class="btn btn-primary">Create Task</button></a>
    </div>
</div>
<hr>
<div>
    <table class="table table-striped table-hover">
        <thead>
            <tr>
                <th scope="col">Owner</th>
                <th scope="col">Title</th>
                <th scope="col">Milestone</th>
                <th scope="col">Status</th>
            </tr>
        </thead>
        <tbody>
        {% for mtask in tasks %}
            <tr>
                <td>{{mtask.owner}}</td>
                <td><a href="{% url 'view_task' mtask.pk %}">{{mtask}}</a></td>
                <td>{{mtask.milestone}}</td>
                <td class="{% if mtask.status == 1 %}table-warning {% elif mtask.status == 2 %}table-primary{% elif mtask.status == 3 %}table-info{% elif mtask.states == 4 %}table-danger{% elif mtask.status == 5 %}table-success{%endif%}">{{mtask.getStatus}}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>




{% endblock%}

{% block right_content %}
<h4>Project Information</h4><hr>
<h5>Current Milestone: {{ milestone }}</h5>
<p>{{milestone.description|linebreaksbr}}</p>
<p>Due: {{milestone.due}}</p>
<p>Weight: {{milestone.weight}}</p>
{% endblock %}